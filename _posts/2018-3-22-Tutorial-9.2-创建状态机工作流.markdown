---
layout: post
title:  "创建工作流模型"
date:   2018-03-22
visible: 1
---

#### 创建工作流项目

这个教程中，我们要学习使用Ebaas的WorkflowStudio工具来配置“事务跟踪管理”流程模型。通常一个企业应用系统会有一到多个相关的工作流模型。因而，我们首先需要创建一个工作流项目来管理这些相关的工作流模型。

* 在“开始”菜单 => Ebaas => WorkflowStudio菜单打开WorkflowStudio工具;
* 打开WorkflowStduio工具后，点击“文件” => “新建”菜单创建一个新的工作流项目“工作流项目 1.0”，见下图；

<img src="{{'/assets/img/2018-3-22-创建工作流项目.png' | prepend: site.baseurl }}" alt="">

#### 创建状态机工作流

* 点击“工作流项目 1.0”节点 => 从右键打开的菜单中 => 点击“添加...”；
* 在“添加工作流”窗口中，选择“状态机工作流” => 输入工作流名称“事务跟踪管理流程” （见下图）=> 点击“确认”按键;

<img src="{{'/assets/img/2018-3-22-创建状态机工作流.png' | prepend: site.baseurl }}" alt="">

{% include note.html content="状态机工作流定义了一组状态和状态之间的转换关系。有一个初始状态和一个结束状态。初始状态到结束状态之间可以有多条路径。可以方便地实现包含驳回和循环等复杂流程" %}


#### 配置状态机工作流

* 点击选择左边项目树中的“事务跟踪管理流程”节点 => 点击底部的“属性”选项卡，切换到参数配置界面；
* 在“属性”选项卡中 => 点击“数据库”右边的下拉菜单 => 会弹出登录窗口 => 登录为系统管理员（用户：admin，密码：admin）；
* 登录后会在下拉菜单中显示所有的数据库名称 => 选择“事务跟踪管理 1.0” （表示该工作流与“事务跟踪管理 1.0”数据库绑定）；
* 点击“数据类”右边的“...” => 从弹出的窗口中选择“事务”数据类，表示该工作流与“事务”数据类绑定；
* 将“启动事件”右边的下拉菜单 => 选择“IssueCreated”事件，表示“IssueCreated”事件启动该工作流，产生一个工作流实例；
* 其它参数保持默认；

配置结果如下图所示：

<img src="{{'/assets/img/2018-3-22-配置状态机工作流.png' | prepend: site.baseurl }}" alt="">

接下来，我们将为该状态机工作流创建状态。
