---
layout: post
title:  "使用工作流"
date:   2018-03-27
visible: 1
---

#### 发起“事务”流程

使用推荐的浏览器登录到Web界面。请使用“demo1”用户登录，用户名：demo1，密码：888。

* 登录后，点击首页的“事务管理”菜单进入事务表格界面；
* 点击右上方的绿色“添加”按钮 => 弹出“事务表单”;

<img src="{{'/assets/img/2018-3-27-点击添加事务按键.png' | prepend: site.baseurl }}" alt="">

* 填写事务表单的数据（如下图），提交并关闭表格。

<img src="{{'/assets/img/2018-3-27-点击添加事务按键.png' | prepend: site.baseurl }}" alt="">

{% include note.html content="提交新的事务表单会在‘事务’数据类创建一条新的数据实例，因而产生了IssueCreated事件"，从而发起了‘事务跟踪管理流程’。 %}

新创建的事务数据实例发起流程后，流程进入初始状态“待审批”。该状态会创建一个工作流任务并赋予具有经理角色的用户。

#### 指定事务处理人

从Web界面退出登录。再次登录为demo2用户， 密码也是：888.

由于demo2用户具有经理的角色。点击首页的“我的空间”菜单后，可以看到在“我的任务”选项卡下的列表中有一个工作流任务，见下图：

<img src="{{'/assets/img/2018-3-27-审批事务任务.png' | prepend: site.baseurl }}" alt="">

鼠标点击列表中的任务 => 进入该任务的表单 => 选择“处理人”为“王前进” => 点击表单下方的的“完成指定”按键（见下图）。

{% include note.html content="用户王前进的登录名为demo3。" %}

<img src="{{'/assets/img/2018-3-27-完成指定任务.png' | prepend: site.baseurl }}" alt="">

点击“完成指定”按钮后，事务的状态修改为“已指定”。将产生“IssueAssigned”事件使得工作流进入到“处理中”状态。

{% include note.html content="界面回到‘我的任务’后，工作流任务应该消失。如果没有消失，请点击一下‘刷新’按键。" %}

#### 处理事务

退出demo的登录，再次登录为demo3用户， 密码也是：888。

由于demo3用户（王前进）为指定的事务处理人。点击首页的“我的空间”菜单后，可以看到在“我的任务”选项卡下的列表中有一个工作流任务，见下图：

<img src="{{'/assets/img/2018-3-27-处理事务任务.png' | prepend: site.baseurl }}" alt="">

鼠标点击列表中的任务 => 进入该任务的表单 => 点击表单下方的的“处理完毕”按键（见下图）。

<img src="{{'/assets/img/2018-3-27-处理完毕任务.png' | prepend: site.baseurl }}" alt="">

工作流任务会从我的任务列表中消失。至此，我们完成了一个完整工作流的测试。

