---
layout: post
title:  "创建普通属性"
date:   2020-05-15
visible: 1
---

前面的教程中，我们创建了“事务”和“意见”两个数据类，并在“事务”数据类中创建了主键。这个教程及后续的教程我们介绍如何创建数据类的属性，包括普通属性，枚举约束属性，条目约束属性，范围约束属性，虚拟属性，关系属性等。。

数据类的普通属性类似数据库表中的字段。但是属性的定义包含了许多应用需求相关的信息，例如属性值的校验和约束条件，属性的显示信息等等。我们会在教程中逐一介绍。

#### 创建“事务”数据类的“主题”属性

{% include note.html content="属性的名称必须是英文和数字组成，必须以英文开头，不允许包含特殊字符和空格，同一个数据类中属性名称必须是唯一的。显示名可以是中文字符和数字。属性的名称用于生成关系数据库的字段名，一旦生成就不允许修改；属性的显示名用于用户界面显示，可以在后续根据需要修改。" %}

创建主题普通属性步骤：右键单击“事务”数据类 => 选择“创建”，从“添加新客体”选择“普通属性”，输入名称：Subject，显示名：主题，见下图：

<img src="{{'/assets/img/2018-2-15 创建主题普通属性A.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”选择为“String”<br>
•	“是否必要”选择为“true”，表示该属性的值为必填。<br>
•	其它设置采用默认值<br>

#### 创建“事务”数据类的“描述”属性
右键单击“事务”数据类 => 选择“创建”，从“添加新客体”选择“普通属性”，输入名称：Description，显示名：描述，见下图：

<img src="{{'/assets/img/2018-2-15 创建描述普通属性.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”选择为“String”<br>
•	“是否多行显示”选择为“true”， 表示该属性在Web界面上为多行文本框显示<br>
•	其它设置采用默认值<br>

#### 创建“事务”数据类的“提交日期”属性
右键单击“事务”数据类 => 选择“创建”，从“添加新客体”选择“普通属性”，输入名称：SubmitDate，显示名：提交日期，见下图：

<img src="{{'/assets/img/2018-2-15 创建提交日期普通属性A.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”选择为“Date”<br>
•	“是否必要”选择为“true”<br>
•	其它设置采用默认值<br>

#### 创建“事务”数据类的“关闭日期”属性
右键单击“事务”数据类 => 选择“创建”，从“添加新客体”选择“普通属性”，输入名称：CloseDate，显示名：关闭日期，见下图：

<img src="{{'/assets/img/2018-2-15 创建关闭日期普通属性B.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”选择为“Date”<br>
•	其它设置采用默认值<br>

#### 创建“意见”数据类的“提交时间”属性
右键单击“意见”数据类 => 选择“创建”，从“添加新客体”选择“普通属性”，输入名称：CommentTime，显示名：提交时间，见下图：

<img src="{{'/assets/img/2018-2-15 创建意见提交时间普通属性.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”选择为“DateTime”<br>
•	“是否必要”选择为“true”<br>
•	其它设置采用默认值<br>

#### 创建“意见”数据类的“内容”属性
右键单击“意见”数据类 => 选择“创建”，从“添加新客体”选择“普通属性”，输入名称：Content，显示名：内容，见下图：

<img src="{{'/assets/img/2018-2-15 创建意见内容普通属性.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”选择为“String”<br>
•	“是否必要”选择为“true”<br>
•	“是否为富文本”选择为“true”， 表示“内容”属性在Web界面显示富文本编辑器，允许文字和图片等<br>
•	“用途”选择为“Excluded”，表示“内容”属性不包括在默认数据视图中<br>
•	其它设置采用默认值<br>

#### 保存数据模型到数据库

在创建数据模型的过程中，可以经常将创建的数据模型保存到数据库中，避免工作丢失。保存到数据库的步骤如下：

选择“文件”下拉菜单的“保存到数据库”命令，如下图所示:

<img src="{{'/assets/img/2018-2-15 保存数据模型到数据库1.png' | prepend: site.baseurl }}" alt=""><br>
DesignStudio会对数据模型进行校验。如果模型正确，会弹出下图的确认对话框，单击“是（y）”按钮：

<img src="{{'/assets/img/2018-2-15 保存数据模型到数据库2.png' | prepend: site.baseurl }}" alt=""><br>
数据库模型保存成功后，会弹出信息框，单击“确认”按钮，见下图：

<img src="{{'/assets/img/2018-2-15 保存数据模型到数据库3.png' | prepend: site.baseurl }}" alt=""><br>

{% include note.html content="如果模型有问题，会弹出错误信息。需要根据提示修复问题后才会保存到数据库。数据模型保存数据库后会在数据库自动生成表和字段。" %}


请点击左下方的链接回到上一个教程，点击右下方的链接进入下一个教程。
