---
layout: post
title:  "创建范围约束的属性"
date:   2020-05-17
visible: 1
---

范围约束的属性是指该属性的有效值是在某个范围之内。所以范围约束的属性值通常是数值型。例如，“事务”数据类的“进度”属性值是百分比，因而有效范围为0到100。我们可以使用范围约束来校验这个属性的值。一旦用户输入的值超出此约束定义的范围，系统会自动校验并显示错误信息。

#### 创建范围约束

我们将创建一个范围约束，叫做“事务进度”（IssueProgress），作为“进度”属性的约束条件。

* 鼠标右键选择DesignStudio左边的“数据约束”文件夹 => 在弹出条目拦单击“创建...”;
* 弹出“添加新客体”窗口，选中“范围约束”，输入名称：IssueProgress；显示名：事务进度。如下图所示：

<img src="{{'/assets/img/2018-2-18 创建事务进展范围约束的属性1.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”选择为“Integer”<br>
•	“最大值”选择为“100”<br>
•	“最小值”选择为“0”<br>
•	其它设置采用默认值<br>
如下图所示：

<img src="{{'/assets/img/2018-2-18 创建事务进展范围约束的属性2.png' | prepend: site.baseurl }}" alt=""><br>

{% include note.html content="建议您为范围约束定义更为明确的‘错误信息’，否则系统将显示默认的校验错误信息。" %}

#### 创建“进度”属性

接下来，在“事务”类中创建“进度”属性，并选择“事务进度”作为其约束。步骤如下：

* 右键单击“事务”数据类→选择“创建...”;
* 从“添加新客体”选择“普通属性”，输入名称：Progress，显示名：进度，见下图：

<img src="{{'/assets/img/2018-2-18 创建事务进度普通属性1.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”选择为“Integer”<br>
•	其它设置采用默认值<br>
• 属性约束设置为前面创建的范围约束。”参数设置“栏中，点击”属性约束“最右边的“...”按钮，见下图：

<img src="{{'/assets/img/2018-2-18 创建事务进度普通属性2.png' | prepend: site.baseurl }}" alt=""><br>
在弹出的”选择数据约束条件“框中，选中”事务进度“，点击”确认“按钮完成，加下图：

<img src="{{'/assets/img/2018-2-18 创建事务进度普通属性3.png' | prepend: site.baseurl }}" alt=""><br>
最终结果见下图：

<img src="{{'/assets/img/2018-2-18 创建事务进度普通属性4.png' | prepend: site.baseurl }}" alt=""><br>

至此，我们完成了创建范围约束的属性。请点击左下方的链接回到上一个教程，点击右下方的链接进入下一个教程。如果要暂停学习下一个教程，请注意保存数据模型到数据库。
