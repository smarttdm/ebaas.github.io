---
layout: post
title:  "创建关系属性"
date:   2020-05-21
visible: 1
---

关系属性用于建立数据类之间的关联关系。例如一对多关系属性。关系属性类似于关系数据库中的关系，所不同的是在Ebaas的数据模型中建立关系属性时，会分别在两个关联的数据类上建立正向和逆向两个关系属性。

例如，每条事务可以有多条意见。所以我们需要在“事务”和“意见”数据类建立一个一对多的关系。这样“事务”到“意见”数据类会创建一个一对多关系属性，并且“意见”到“事务”数据类会创建一个多对一的关系属性。

#### 创建关系属性

创建关系属性可以从“事务”数据类开始，也可以从“意见”数据类开始。下面，我们介绍从“意见”数据类开始创建多对一的关系。

右键单击“意见”数据类→选择“创建”，从“添加新客体”对话框中选择“关系属性”，输入名称：ToIssue，显示名：到事务，见下图：

<img src="{{'/assets/img/2018-2-21-创建关系属性1.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，在弹出的“定义关系属性”的对话框中，“正向关系属性”选项卡下，选择“关系类型”为“ManyToOne”。在右边的“关联数据类”窗口中选择“事务”数据类，见下图：

<img src="{{'/assets/img/2018-2-21-创建关系属性2A.png' | prepend: site.baseurl }}" alt="">

点击“下一步”按钮 => 在“逆向关系属性”卡中 => 输入“属性名”：ToComment => “显示名”：到意见。如下图所示：

<img src="{{'/assets/img/2018-2-21-创建关系属性3.png' | prepend: site.baseurl }}" alt=""><br>

{% include note.html content="”所有权“的默认设置为”Loosely Referenced“，表示为弱关系。关系属性为弱关系时，删除”事务“数据实例不会删除关联的”意见“数据实例。如果将“所有权”选择为“Owned”，删除某”事务“数据实例会自动删除相关的”意见“数据实例。" %}

完成后点击“结束”按钮，完成关系属性的创建。见下图：

<img src="{{'/assets/img/2018-2-21-创建关系属性4A.png' | prepend: site.baseurl }}" alt=""><br>

{% include note.html content="多对多的关系可通过建立一个中间数据类以及两个一对多关系属性来完成。我们将在后面的教程中介绍。" %}

保存模型到数据库。

至此，我们完成了“事务跟踪管理”应用数据模型的创建。接下来的教程将开始介绍如何配置用户界面来使用该系统。

请点击左下方的链接回到上一个教程，点击右下方的链接进入下一个教程。
