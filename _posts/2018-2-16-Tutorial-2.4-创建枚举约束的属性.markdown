---
layout: post
title:  "创建枚举约束的属性"
date:   2018-02-16
visible: 1
---

枚举约束的属性是指该属性的值只能从一个枚举值集合中选取。枚举约束的属性在数据模型中经常出现。例如，“事务”数据类的“状态”属性就可以定义为枚举约束的属性。这样用户可以从一组固定的值中选择一个状态，而无需手工输入“状态”值。

一个真实的事务跟踪系统的状态值有很多。为了节省篇幅，教程的事务跟踪管理系统的状态定义如下表所示：

| 状态值 | 状态名 | 说明 |
|-------|--------|---------|
| 1 | 待处理 | 事务处于待处理状态 |
| 2 | 已指定 | 事务已指定人员处理 |
| 3 | 完成 | 事务已完成 |
| 4 | 退回 | 事务被退回 |
| 5 | 关闭 | 事务确认已完成后关闭 |

#### 创建枚举约束

假设，我们要创建的枚举约束的名称为“事务状态”，英文名为“IssueStatus”。创建枚举约束的步骤如下：

鼠标右键选择DesignStudio左边的“数据约束”文件夹→在弹出条目拦单击“创建”→弹出“添加新客体”输入框，选中“枚举约束”，输入名称：IssueStatus；显示名：事务状态。如下图所示：

<img src="{{'/assets/img/2018-2-16 创建枚举约束属性.png' | prepend: site.baseurl }}" alt=""><br>
完成后单击“确认”按钮。<br>
添加“事务状态”枚举条目步骤如下：<br>
在创建枚举值时建议使用整数作为枚举值，显示名使用中文。枚举值一旦创建就不能修改，但是显示名可以修改而不会造成影响。<br>
选中左边“事务状态”→在“参数设置”面板里单击“枚举值 （集合）”右边“...”按钮，如下图所示：

<img src="{{'/assets/img/2018-2-16 创建枚举值.png' | prepend: site.baseurl }}" alt=""><br>
在弹出的“定义枚举约束”面板右下方输入框里，输入枚举值：1，如下图所示：

<img src="{{'/assets/img/2018-2-16 添加枚举条目待处理1.png' | prepend: site.baseurl }}" alt=""><br>
点击“添加”按钮，在显示名输入：待处理，按“回车”键。（注意在输入显示名后，需要在文本框中键入返回键。
）。如下图所示：

<img src="{{'/assets/img/2018-2-16 添加枚举条目待处理2.png' | prepend: site.baseurl }}" alt=""><br>

其余的添加枚举条目类推，完成后，点击“确认”按钮。最终结果见下图：

<img src="{{'/assets/img/2018-2-16 添加枚举条目2.png' | prepend: site.baseurl }}" alt=""><br>

#### 创建“状态”属性

接下来，在“事务”类中创建“状态”属性，并选择“事务状态”作为其约束。步骤如下：
右键单击“事务”数据类→选择“创建”，从“添加新客体”选择“普通属性”，输入名称：Status，显示名：状态，见下图：

<img src="{{'/assets/img/2018-2-16 创建事务状态属性B.png' | prepend: site.baseurl }}" alt=""><br>
单击“确认”按钮，并对其作如下参数设置：<br>
•	“数据类型”可以不用选择，会自动使用枚举约束的数据类型<br>
•	“是否必要”选择为“true”<br>
•	其它设置采用默认值<br>
给“状态”属性添加属性约束，选中左边“状态”属性，在“参数设置”面板里点击“属性约束”栏右侧“---”按钮，如下图所示：

<img src="{{'/assets/img/2018-2-16 创建事务状态属性约束.png' | prepend: site.baseurl }}" alt=""><br>
在弹出的“选择数据约束条件”框中，选中左边的“事务状态”，点击“确认”按钮，如下图所示：

<img src="{{'/assets/img/2018-2-16 选择事务状态属性约束.png' | prepend: site.baseurl }}" alt=""><br>
到此，创建枚举约束的属性步骤结束。
